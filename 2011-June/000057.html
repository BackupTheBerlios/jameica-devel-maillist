<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [jameica-devel] Diagnose-Backup/Restore
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/jameica-devel/2011-June/index.html" >
   <LINK REL="made"  HREF="mailto:jameica-devel%40lists.berlios.de?Subject=Re%3A%20%5Bjameica-devel%5D%20Diagnose-Backup/Restore&In-Reply-To=%3C4E0B6C08.6060404%40jost-net.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   
   <LINK REL="Next"  HREF="000058.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[jameica-devel] Diagnose-Backup/Restore</H1>
    <B>Heiner Jostkleigrewe</B> 
    <A
    HREF="mailto:jameica-devel%40lists.berlios.de?Subject=Re%3A%20%5Bjameica-devel%5D%20Diagnose-Backup/Restore&In-Reply-To=%3C4E0B6C08.6060404%40jost-net.de%3E"
           TITLE="[jameica-devel] Diagnose-Backup/Restore">heiner at jost-net.de
                  </A><BR>
    <I>Mi Jun 29 20:16:40 CEST 2011</I>
    <P><UL>
        
        <LI>Nächste Nachricht: <A HREF="000058.html">[jameica-devel] Diagnose-Backup/Restore
</A></li>
         <LI> <B>Nachrichten sortiert nach:</B> 
              <a href="date.html#57">[ Datum ]</a>
              <a href="thread.html#57">[ Thema ]</a>
              <a href="subject.html#57">[ Betreff (Subject) ]</a>
              <a href="author.html#57">[ Autor ]</a>
         </LI>
       </UL>
    <HR>
<!--beginarticle-->
<PRE>Hallo Olaf,

ich habe zur JVerein-Version 2.0.0 in der Datenbank den Datentyp für 
booleans von CHAR(5) (Inhalt TRUE oder FALSE) auf Boolean (H2) und 
BIT(1) (MySQL) umgestellt.

Beim Import in eine MySQL-Datenbank werden Exceptions geworfen:

[Wed Jun 29 20:08:57 CEST 
2011][ERROR][de.jost_net.JVerein.gui.action.BackupRestoreAction$1.run] 
unable to import de.jost_net.JVerein.server.EinstellungImpl:null, skipping
java.rmi.RemoteException: insert failed, rollback successful; nested 
exception is:
     com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long 
for column 'individuellebeitraege' at row 1
     at 
de.willuhn.datasource.db.AbstractDBObject.insert(AbstractDBObject.java:672)
     at 
de.jost_net.JVerein.gui.action.BackupRestoreAction$1.run(BackupRestoreAction.java:194)
     at de.willuhn.jameica.gui.GUI$6.run(GUI.java:917)
Caused by: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too 
long for column 'individuellebeitraege' at row 1
     at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2983)
     at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1631)
     at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1723)
     at com.mysql.jdbc.Connection.execSQL(Connection.java:3256)
     at 
com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1313)
     at 
com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1585)
     at 
com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1500)
     at 
com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1485)
     at 
de.willuhn.datasource.db.AbstractDBObject.insert(AbstractDBObject.java:633)
     ... 2 more

Die XML-Datei sieht so aus:

    :
&lt;object type=&quot;de.jost_net.JVerein.server.EinstellungImpl&quot; id=&quot;1&quot;&gt;
    :
    :
&lt;individuellebeitraege 
type=&quot;java.lang.Boolean&quot;&gt;false&lt;/individuellebeitraege&gt;
    :
    :
&lt;/object&gt;

Anscheinend wird &quot;true&quot; und nicht true in das DBObject übertragen. Das 
ist doch sicher ein Jameica-Problem. Oder?

Heiner

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Nächste Nachricht: <A HREF="000058.html">[jameica-devel] Diagnose-Backup/Restore
</A></li>
         <LI> <B>Nachrichten sortiert nach:</B>
              <a href="date.html#57">[ Datum ]</a>
              <a href="thread.html#57">[ Thema ]</a>
              <a href="subject.html#57">[ Betreff (Subject)]</a>
              <a href="author.html#57">[ Autor ]</a>
         </LI>
       </UL>
<hr>
<a href="https://lists.berlios.de/mailman/listinfo/jameica-devel">Mehr Informationen &uuml;ber die Mailingliste jameica-devel</a><br>
</body></html>
